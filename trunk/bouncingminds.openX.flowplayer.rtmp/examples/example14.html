<html>
<head>
<title>Example 14 - Apply an ad spot to the last stream only</title>
<script type="text/javascript" src="../dist/jquery-1.3.1.js"></script>
<script type="text/javascript" src="../dist/flowplayer-3.1.0.min.js"></script>
<script type="text/javascript" src="../dist/flowplayer-openx-0.4.3.js"></script>
<script type="text/javascript" src="../dist/global-0.16.js"></script>
<link rel="stylesheet" type="text/css" href="css/global.css" />
</head>
<body>

<h2>Example 14 - Apply an ad spot to the last stream only</h2>
<p class="example">
Sorry this example is 'experimental' and is still subject to defects but the idea is that
'last' can be specified as a 'applyToParts' parameter to identify that an ad spot is to only
be applied to the last main show stream in the sequence. 'last' is important if the number
of streams is unknown at the time that the ad schedule is defined, but an ad type ('post-roll'
for instance) needs to be restricted to the last stream.
</p>
<br/>
<a class="example"></a>

<script language="JavaScript">
flowplayer("a.example", "../dist/flowplayer-3.1.0.swf", {
    playlist: [
        {
            url: 'main',
            provider: 'openXAdStreamer'
        }
    ],

    plugins: {
        openXRegions: {
            url: '../dist/OpenXRegions-0.4.6.swf'    		
        },

        openXAdStreamer: {
            url: '../dist/OpenXAdStreamer-0.4.6.swf',
            netConnectionUrl: 'rtmp://ne7c0nwbit.rtmphost.com/videoplayer',
            streams: [ { file:'mp4:bbb_640x360_h264', duration:'00:01:00', reducedLength:true },
                       { file:'mp4:bbb_640x360_h264', duration:'00:01:00', reducedLength:true }
            ],
            vastServerURL: 'http://beta.bouncingminds.com/openx-2.8.1-rc7/www/delivery/fc.php',
            debugLevel: 'fatal',
            adSchedule: [
                { zone: '2',
                  position: 'post-roll',
                  applyToParts: 'last'
                }
            ]
        }
    }
});
</script>
<p>
The configuration for this example is:
</p>
<div class="codebox">
<pre>
<code class="javascript">
flowplayer("a.example", "../dist/flowplayer-3.1.0.swf", {
    playlist: [
        {
            url: 'main',
            provider: 'openXAdStreamer'
        }
    ],

    plugins: {
        openXRegions: {
            url: '../dist/OpenXRegions-0.4.6.swf'    		
        },

        openXAdStreamer: {
            url: '../OpenXAdStreamer-0.4.6.swf',
            netConnectionUrl: 'rtmp://ne7c0nwbit.rtmphost.com/videoplayer',
            streams: [ { file:'mp4:bbb_640x360_h264', duration:'00:01:00', reducedLength:true },
                       { file:'mp4:bbb_640x360_h264', duration:'00:01:00', reducedLength:true }
            ],
            vastServerURL: 'http://beta.bouncingminds.com/openx-2.8.1-rc7/www/delivery/fc.php',
            debugLevel: 'fatal',
            adSchedule: [
                { zone: '2',
                  position: 'pre-roll',
                  applyToParts: 'last'
                }
            ]
        }
    }
});
</code>
</pre>
</div>
</body>
</html>