#summary Obtaining and Loading a Playlist from the VAST Response
#sidebar TableOfContents

{{{
private function loadPlaylist():Playlist {
   _streamSequence = new StreamSequence(this, 
                                                                              this, 
                                                                              _openXConfig.streams, 
                                                                              _openXAdServer.adSequence, 
                                                                              _openXConfig.bitrate, 
                                                                              _openXConfig.netConnectionURL, 
                                                                              100);
    var playlist:Playlist = PlaylistController.createPlaylist(_streamSequence, PlaylistController.PLAYLIST_FORMAT_XSPF);
    doLogAndTrace("XSPF playlist loaded: ", playlist.toString(), DebugObject.DEBUG_PLAYLIST);
    return playlist;
}

public function onTemplateLoaded():void {
    doLogAndTrace("VAST data loaded - ", _openXAdServer.template, DebugObject.DEBUG_FATAL);
    _playlist = loadPlaylist();
    _view.sendEvent(ViewEvent.LOAD, XSPFParser.parse(_playlist.nextTrackAsPlaylistXML()));
}
}}}

{{{
public function onTemplateLoadError(event:Event):void {
    doLog("FAILURE loading VAST template - " + event.toString(), DebugObject.DEBUG_FATAL);
}
}}}